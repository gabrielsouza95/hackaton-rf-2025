import*as e from"https://unpkg.com/three@0.127.0/build/three.module.js";import{STLLoader as b}from"https://unpkg.com/three@0.127.0/examples/jsm/loaders/STLLoader.js";const M=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(t){if(t.ep)return;t.ep=!0;const o=i(t);fetch(t.href,o)}};M();class v{constructor(r,i){const s=r.querySelector("nav"),t=r.querySelectorAll("li"),o=r.querySelectorAll("section"),d=s.offsetTop,L=s.offsetHeight,g=new Map;o.forEach(f=>{g.set(f.getAttribute("id"),f.offsetTop)}),t.forEach(f=>{f.addEventListener("click",()=>{i.scrollTo(0,g.get(f.getAttribute("datascroll"))-L)})}),i.addEventListener("scroll",()=>{i.pageYOffset>=d?s.classList.add("sticky"):s.classList.remove("sticky")})}}new v(document,window);const a=new e.Scene,c=new e.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),m=new e.WebGLRenderer({canvas:document.querySelector("#bg")});m.setPixelRatio(window.devicePixelRatio);m.setSize(window.innerWidth,window.innerHeight);c.position.setZ(30);c.position.setX(-3);m.render(a,c);const S=new e.TorusGeometry(10,3,16,100),h=new e.MeshStandardMaterial({color:16737095});let u=new e.Mesh(S,h);const _=new b;_.load("assets/3d_models/Brasil_inteiro.stl",function(n){u=new e.Mesh(n,h);const r={x:-120,y:-60,z:-60};u.position.set(r.x,r.y,r.z),u.scale.set(.25,.25,.25),a.add(u)},n=>{console.log(n.loaded/n.total*100+"% loaded")},n=>{console.log(n)});const w=new e.PointLight(16777215);w.position.set(5,5,5);const T=new e.AmbientLight(16777215);a.add(w,T);function z(){const n=new e.SphereGeometry(.25,24,24),r=new e.MeshStandardMaterial({color:16777215}),i=new e.Mesh(n,r),[s,t,o]=Array(3).fill().map(()=>e.MathUtils.randFloatSpread(200));i.position.set(s,t,o),a.add(i)}Array(300).fill().forEach(z);const A=new e.TextureLoader().load("./assets/image_files/pattern_blue.jpeg");a.background=A;const E=new e.TextureLoader().load("./assets/image_files/text_box_green.jpeg"),p=new e.Mesh(new e.BoxGeometry(3,3,3),new e.MeshBasicMaterial({map:E}));a.add(p);const B=new e.TextureLoader().load("./assets/image_files/text_box_blue.jpeg"),P=new e.TextureLoader().load("./assets/image_files/text_box_blue.jpeg"),l=new e.Mesh(new e.SphereGeometry(3,32,32),new e.MeshStandardMaterial({map:B,normalMap:P}));a.add(l);l.position.z=30;l.position.setX(-10);p.position.z=-5;p.position.x=2;function y(){const n=document.body.getBoundingClientRect().top;l.rotation.x+=.05,l.rotation.y+=.075,l.rotation.z+=.05,p.rotation.y+=.01,p.rotation.z+=.01,c.position.z=n*-.01,c.position.x=n*-2e-4,c.rotation.y=n*-2e-4}document.body.onscroll=y;y();function x(){requestAnimationFrame(x),u.rotation.y+=.01,l.rotation.x+=.005,m.render(a,c)}x();
